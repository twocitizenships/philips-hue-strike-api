{"id":"nMub","dependencies":[{"name":"/Users/clusk/Documents/OtherRepositories/strike-tipping-widget/.babelrc","includedInParent":true,"mtime":1644697412893},{"name":"/Users/clusk/Documents/OtherRepositories/strike-tipping-widget/package.json","includedInParent":true,"mtime":1644697412902},{"name":"ky","loc":{"line":1,"column":15},"parent":"/Users/clusk/Documents/OtherRepositories/strike-tipping-widget/src/lib/api.js","resolved":"/Users/clusk/Documents/OtherRepositories/strike-tipping-widget/node_modules/ky/distribution/index.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.api=exports.INVOICE_STATE_UNPAID=exports.INVOICE_STATE_PAID=void 0;var e=n(require(\"ky\"));function n(e){return e&&e.__esModule?e:{default:e}}const r=\"UNPAID\";exports.INVOICE_STATE_UNPAID=\"UNPAID\";const t=\"PAID\";var o;exports.INVOICE_STATE_PAID=\"PAID\";const c=(n,r)=>{o=e.default.create({prefixUrl:n,headers:{Authorization:`Bearer ${r}`,\"Content-Type\":\"application/json\"}})},a=()=>{const e=new URLSearchParams(window.location.search);return Object.fromEntries(e.entries()).handle},i=async e=>await o.get(`accounts/handle/${e}/profile`).json(),s=async function(e,n,r){arguments.length>3&&void 0!==arguments[3]&&arguments[3];return await o.post(`invoices/handle/${e}`,{json:{amount:{currency:r,amount:n}}}).json()},u=async e=>await o.post(`invoices/${e}/quote`).json(),l=async e=>await o.get(`invoices/${e}`).json(),p=async(e,n)=>await poll(()=>l(e.invoiceId),e=>{let{state:n}=e;return\"PAID\"==n},n,1e3).catch(e=>console.error(e)),d=()=>{var e=document.createDocumentFragment();profile.currencies.forEach(function(n,r){var t=document.createElement(\"option\");t.innerHTML=n.currency,t.value=n.currency,e.appendChild(t)}),currencyField.appendChild(e),currencyField.value=profile.currencies.find(e=>e.isDefaultCurrency).currency},I={init:c,getHandle:a,getProfile:i,createInvoice:s,createQuote:u,getInvoice:l,pollInvoice:p,setCurrecyOptions:d};exports.api=I;"},"sourceMaps":null,"error":null,"hash":"951aa5b5973028b8b7cda771cc8a0cd0","cacheData":{"env":{}}}